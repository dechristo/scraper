function AppController($http){function handleSuccess(response){vm.showError=!1,vm.showResult=!0,vm.errorMsg="",vm.pageInfo.title=response.data.title,vm.pageInfo.htmlVersion=response.data.htmlVersion,vm.pageInfo.headings=response.data.headings,vm.pageInfo.hasLoginForm=response.data.hasLoginForm}function handleError(error){console.log(error),vm.showResult=!1,vm.errorMsg=error.status+":"+error.data.error,vm.showError=!0}var vm=this;vm.url="",vm.scrap=function(){if(vm.url)return console.log("url:"+vm.url),$http.get("/scrap/analize/"+encodeURIComponent(vm.url)).then(handleSuccess,handleError)},vm.pageInfo={},vm.showResult=!1,vm.showError=!1,vm.errorMsg=""}angular.module("app").controller("AppController",AppController);